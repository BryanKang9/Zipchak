<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="data.mapper.ChatMessageMapper">
    <select id="getChatMessage" parameterType="int" resultType="cmdto">
        SELECT * from cm
        where cr_num=#{cr_num}
    </select>
    <insert id="insertChatMessage" parameterType="cmdto" useGeneratedKeys="true" keyProperty="cm_num" keyColumn="cm_num">
        insert into cm values (null, #{cr_num},#{sender},#{msg},0,now())
    </insert>
    <select id="getMsg" parameterType="int" resultType="cmdto">
        select * from cm where cm_num=#{cm_num}
    </select>
</mapper>